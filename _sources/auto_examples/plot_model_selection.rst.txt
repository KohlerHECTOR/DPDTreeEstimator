
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/plot_model_selection.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_plot_model_selection.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_plot_model_selection.py:


============================
Benchmarking DPDT
============================
Benchmarking DPDT using datasets from https://arxiv.org/abs/2207.08815.

.. GENERATED FROM PYTHON SOURCE LINES 7-132



.. image-sg:: /auto_examples/images/sphx_glr_plot_model_selection_001.png
   :alt: Benchmark Results, credit, electricity, covertype, pol, house_16H, MagicTelescope, bank-marketing, MiniBooNE, Higgs, eye_movements, Diabetes130US, jannis, default-of-credit-card-clients, Bioresponse, california, heloc
   :srcset: /auto_examples/images/sphx_glr_plot_model_selection_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    No permission to create OpenML directory at /home/runner/.config! This can result in OpenML-Python not working properly.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103185/credit.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103245/electricity.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103246/covertype.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103247/pol.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103248/house_16H.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103250/MagicTelescope.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103251/bank-marketing.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103253/MiniBooNE.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103254/Higgs.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22103255/eye_movements.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22111908/Diabetes130US.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22111907/jannis.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22111906/default-of-credit-card-clients.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22111905/Bioresponse.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22111914/california.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:126: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    WARNING:root:Received uncompressed content from OpenML for https://api.openml.org/data/v1/download/22111912/heloc.arff.
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/examples/plot_model_selection.py:127: FutureWarning: Starting from Version 0.15.0 `download_splits` will default to ``False`` instead of ``True`` and be independent from `download_data`. To disable this message until version 0.15 explicitly set `download_splits` to a bool.
      res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)
    /home/runner/work/DPDTreeEstimator/DPDTreeEstimator/.pixi/envs/doc/lib/python3.12/site-packages/openml/tasks/task.py:150: FutureWarning: Starting from Version 0.15 `download_data`, `download_qualities`, and `download_features_meta_data` will all be ``False`` instead of ``True`` by default to enable lazy loading. To disable this message until version 0.15 explicitly set `download_data`, `download_qualities`, and `download_features_meta_data` to a bool while calling `get_dataset`.
      return datasets.get_dataset(self.dataset_id)






|

.. code-block:: Python

    from time import time

    import matplotlib.pyplot as plt
    import numpy as np
    import openml
    from sklearn.model_selection import train_test_split
    from sklearn.tree import DecisionTreeClassifier

    from dpdt import DPDTreeClassifier


    def plot_benchmark_results(*benchmark_results, names=None):
        n_results = len(benchmark_results)
        if names is None:
            names = [f"Model {i+1}" for i in range(n_results)]

        n_datasets = len(benchmark_results[0])
        n_cols = 8
        n_rows = (n_datasets + n_cols - 1) // n_cols

        fig, axs = plt.subplots(n_rows, n_cols, figsize=(3 * n_cols, 3 * n_rows))
        fig.suptitle("Benchmark Results")

        # Flatten the axes array for easier iteration
        axs = axs.flatten()

        colors = plt.cm.rainbow(np.linspace(0, 1, n_results))

        # Iterate through the datasets
        for i, dataset_name in enumerate(benchmark_results[0].keys()):
            ax = axs[i]

            for j, (result, name) in enumerate(zip(benchmark_results, names)):
                data = result[dataset_name]
                ax.plot(
                    data["lengths"],
                    data["scores"],
                    color=colors[j],
                    label=name + " " + str(round(data["time"], 3)) + "s",
                )

            # Set title and labels
            ax.set_title(dataset_name, fontsize=8)
            ax.set_xlabel("Tree Length", fontsize=6)
            ax.set_ylabel("Score", fontsize=6)

            # Set tick label size
            ax.tick_params(axis="both", which="major", labelsize=6)

            # Add legend
            ax.legend(fontsize=6)

        # Remove any unused subplots
        for j in range(i + 1, len(axs)):
            fig.delaxes(axs[j])

        plt.tight_layout()
        plt.savefig("benchmark_classif")


    def get_pareto_front_cart(clf_kwargs, X_train, y_train, X_test, y_test):
        clf = DecisionTreeClassifier(**clf_kwargs)
        path = clf.cost_complexity_pruning_path(X_train, y_train)
        ccp_alphas, _ = path.ccp_alphas, path.impurities
        scores = []
        lengths = []
        for ccp_alpha in ccp_alphas:
            clf = DecisionTreeClassifier(ccp_alpha=ccp_alpha, **clf_kwargs)
            clf.fit(X_train, y_train)
            scores.append(clf.score(X_test, y_test))
            lengths.append(clf.decision_path(X_test).sum(axis=1).mean() - 1)
        return (scores, lengths)


    def benchmark(clf_cls, clf_kwargs, seed=42):
        benchmark_suite = openml.study.get_suite(337)  # obtain the benchmark suite
        res_dict = {}
        for _, task_id in enumerate(
            benchmark_suite.tasks, start=8
        ):  # iterate over half of tasks  # iterate over half of tasks
            task = openml.tasks.get_task(
                task_id,
                download_data=False,
                download_qualities=False,
                download_features_meta_data=False,
            )  # download the OpenML task
            dataset = task.get_dataset()
            X, y, _, _ = dataset.get_data(
                dataset_format="dataframe", target=dataset.default_target_attribute
            )
            X_train, X_test, y_train, y_test = train_test_split(
                X.to_numpy(), y.to_numpy(), test_size=0.5, random_state=seed
            )

            if clf_cls is DPDTreeClassifier:
                start = time()
                clf = clf_cls(**clf_kwargs)
                clf.fit(X_train, y_train)
                scores, lengths = clf.get_pareto_front(X_test, y_test)
                end = time() - start
                scores = scores.tolist()
                lengths = lengths.tolist()
            elif clf_cls is DecisionTreeClassifier:
                start = time()
                scores, lengths = get_pareto_front_cart(
                    clf_kwargs, X_train, y_train, X_test, y_test
                )
                end = time() - start
            else:
                raise AssertionError(
                    "clf_cls should be DecisionTreeClassifier or DPDTreeClassifier"
                )

            res_dict[dataset.name] = {"scores": scores, "lengths": lengths, "time": end}
        return res_dict


    dpdt_kwargs = dict(max_depth=4, n_jobs="best")
    cart_kwargs = dict(max_depth=4)
    res_dpdt = benchmark(DPDTreeClassifier, dpdt_kwargs)
    res_cart = benchmark(DecisionTreeClassifier, cart_kwargs)

    plot_benchmark_results(
        res_dpdt, res_cart, names=["DPDTreeClassifier", "DecisionTreeClassifier"]
    )


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (22 minutes 59.883 seconds)


.. _sphx_glr_download_auto_examples_plot_model_selection.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_model_selection.ipynb <plot_model_selection.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_model_selection.py <plot_model_selection.py>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
